<?xml version="1.0" encoding="utf-8" ?>
<bp:BusinessProcess xmlns:bp="BitMobile.BusinessProcess">

  <bp:Workflow Name="Main">

    <bp:Step Name="Menu" Screen="Main.xml">
      <bp:Action Name="Visits" NextWorkflow="Visits"></bp:Action>
      <bp:Action Name="Summary" NextStep="Summary"></bp:Action>
      <bp:Action Name="Order" NextWorkflow="Order"></bp:Action>
      <bp:Action Name="Outlets" NextWorkflow="Outlets"></bp:Action>
      <bp:Action Name="Stocks" NextWorkflow="Stocks"></bp:Action>
      <bp:Action Name="ToDo" NextWorkflow="ToDo"></bp:Action>
      <bp:Action Name="Targets" NextWorkflow="Targets"></bp:Action>
      <bp:Action Name="Settings" NextWorkflow="Settings"></bp:Action>
    </bp:Step>

  </bp:Workflow>

  <bp:Workflow Name="Visits">

    <bp:Step Name="Visits" Screen="Visits.xml">
      <bp:Action Name="ShowMap" NextStep="ShowMap"></bp:Action>
      <bp:Action Name="Select" NextWorkflow="ScheduledVisit"></bp:Action>
    </bp:Step>

    <bp:Step Name="ShowMap" Screen="ScheduledVisits_Map.xml">
    </bp:Step>

  </bp:Workflow>

  <bp:Workflow Name="ScheduledVisit">

    <bp:Step Name="Outlet" Screen="Outlet.xml">
      <bp:Action Name="Forward" NextStep="Visit_Tasks"></bp:Action>
      <bp:Action Name="Skip1" NextStep="Questions"></bp:Action>
      <bp:Action Name="Skip2" NextStep="SKUs"></bp:Action>
      <bp:Action Name="Skip3" NextStep="Order"></bp:Action>
      <bp:Action Name="EditParameter" NextStep="EditOutletParameter"></bp:Action>
      <bp:Action Name="EditAddParameter" NextStep="EditOutletAddParameter"></bp:Action>
      <bp:Action Name="ShowMap" NextStep="ShowMap"></bp:Action>
    </bp:Step>

    <bp:Step Name="Visit_Tasks" Screen="Tasks.xml">
      <bp:Action Name="Forward" NextStep="Questions"></bp:Action>
      <bp:Action Name="Skip2" NextStep="SKUs"></bp:Action>
      <bp:Action Name="Skip3" NextStep="Order"></bp:Action>
    </bp:Step>

    <bp:Step Name="Questions" Screen="Visit_Questions.xml">
      <bp:Action Name="Forward" NextStep="SKUs"></bp:Action>
      <bp:Action Name="Skip3" NextStep="Order"></bp:Action>
      <bp:Action Name="Edit" NextStep="EditQuestion"></bp:Action>
    </bp:Step>

    <bp:Step Name="SKUs" Screen="Visit_SKUs.xml">
      <bp:Action Name="Forward" NextStep="Order"></bp:Action>
      <bp:Action Name="Edit" NextStep="Visit_EditSKU"></bp:Action>
    </bp:Step>

    <bp:Step Name="Order" Screen="Order.xml">
      <bp:Action Name="Add" NextStep="AddSKU"></bp:Action>
      <bp:Action Name="Edit" NextStep="EditSKU"></bp:Action>
      <bp:Action Name="ShowInfo" NextStep="OrderInfo"></bp:Action>
      <bp:Action Name="Forward" NextStep="Receivables"></bp:Action>
    </bp:Step>

    <bp:Step Name="Commentary" Screen="Order_Commentary.xml">
      <bp:Action Name="Forward" NextStep="Receivables"></bp:Action>
    </bp:Step>

    <bp:Step Name="OrderInfo" Screen="Order_Info.xml">
      <bp:Action Name="EditPriceList" NextStep="PriceLists"></bp:Action>
    </bp:Step>

    <bp:Step Name="Receivables" Screen="Receivables.xml">
      <bp:Action Name="Forward" NextStep="Total"></bp:Action>
      <bp:Action Name="Select" NextStep="ReceivableDoc"></bp:Action>
    </bp:Step>

    <bp:Step Name="Total" Screen="Visit_Total.xml">
      <bp:Action Name="attributesFill" NextStep="ListChoice"></bp:Action>
    </bp:Step>

    <bp:Step Name="ListChoice" Screen="ListChoice.xml">
    </bp:Step>

    <bp:Step Name="AddSKU" Screen="Order_SKUs.xml">
      <bp:Action Name="SetFilter" NextStep="Filters"></bp:Action>
      <bp:Action Name="SelectSKU" NextStep="EditSKU"></bp:Action>
      <bp:Action Name="Forward" NextStep="Order"></bp:Action>      
    </bp:Step>

    <bp:Step Name="Filters" Screen="Filters.xml">
      <bp:Action Name="Forward" NextStep="AddSKU"></bp:Action>
    </bp:Step>

    <bp:Step Name="EditSKU" Screen="Order_EditSKU.xml">
      <bp:Action Name="Forward" NextStep="AddSKU"></bp:Action>
    </bp:Step>

    <bp:Step Name="PriceLists" Screen="ListChoice.xml">
    </bp:Step>

    <bp:Step Name="EditOutletParameter" Screen="ListChoice.xml">
    </bp:Step>

    <bp:Step Name="EditOutletAddParameter" Screen="OutletParameter.xml">
    </bp:Step>

    <bp:Step Name="EditQuestion" Screen="ListChoice.xml">
    </bp:Step>

    <bp:Step Name="Visit_EditSKU" Screen="Visit_SKU.xml">
    </bp:Step>

    <bp:Step Name="ReceivableDoc" Screen="Encashment.xml">
    </bp:Step>

    <bp:Step Name="ShowMap" Screen="ScheduledVisits_Map.xml">
    </bp:Step>

  </bp:Workflow>


  <bp:Workflow Name="ToDo">
    <bp:Step Name="ToDo" Screen="Tasks.xml">
      <bp:Action Name="Forward" NextStep=""></bp:Action>
    </bp:Step>
  </bp:Workflow>


  <bp:Workflow Name="Stocks">
    <bp:Step Name="Stocks" Screen="Stock_SKUs.xml">
      <bp:Action Name="Select" NextStep="SKUImage"/>
      <bp:Action Name="SetFilter" NextStep="Filters"></bp:Action>
    </bp:Step>

    <bp:Step Name="SKUImage" Screen="SKU_Image.xml">
    </bp:Step>

    <bp:Step Name="Filters" Screen="Filters.xml">
      <bp:Action Name="Forward" NextStep="Stocks"></bp:Action>
    </bp:Step>

  </bp:Workflow>


  <bp:Workflow Name="UnscheduledVisit">

    <bp:Step Name="Outlets" Screen="Outlets.xml">
      <bp:Action Name="Select" NextStep="Outlet"></bp:Action>
    </bp:Step>

    <bp:Step Name="Outlet" Screen="Outlet.xml">
      <bp:Action Name="Forward" NextStep="Visit_Tasks"></bp:Action>
      <bp:Action Name="Skip1" NextStep="Questions"></bp:Action>
      <bp:Action Name="Skip2" NextStep="SKUs"></bp:Action>
      <bp:Action Name="Skip3" NextStep="Order"></bp:Action>
      <bp:Action Name="EditParameter" NextStep="EditOutletParameter"></bp:Action>
      <bp:Action Name="EditAddParameter" NextStep="EditOutletAddParameter"></bp:Action>
    </bp:Step>

    <bp:Step Name="Visit_Tasks" Screen="Tasks.xml">
      <bp:Action Name="Forward" NextStep="Questions"></bp:Action>
      <bp:Action Name="Skip2" NextStep="SKUs"></bp:Action>
      <bp:Action Name="Skip3" NextStep="Order"></bp:Action>
    </bp:Step>

    <bp:Step Name="Questions" Screen="Visit_Questions.xml">
      <bp:Action Name="Forward" NextStep="SKUs"></bp:Action>
      <bp:Action Name="Edit" NextStep="EditQuestion"></bp:Action>
      <bp:Action Name="Skip3" NextStep="Order"></bp:Action>
    </bp:Step>

    <bp:Step Name="SKUs" Screen="Visit_SKUs.xml">
      <bp:Action Name="Forward" NextStep="Order"></bp:Action>
      <bp:Action Name="Edit" NextStep="Visit_EditSKU"></bp:Action>
    </bp:Step>

    <bp:Step Name="Order" Screen="Order.xml">
      <bp:Action Name="Add" NextStep="AddSKU"></bp:Action>
      <bp:Action Name="Edit" NextStep="EditSKU"></bp:Action>
      <bp:Action Name="ShowInfo" NextStep="OrderInfo"></bp:Action>
      <bp:Action Name="Forward" NextStep="Commentary"></bp:Action>
      <bp:Action Name="SkipCommentary" NextStep="Receivables"></bp:Action>
    </bp:Step>

    <bp:Step Name="Commentary" Screen="Order_Commentary.xml">
      <bp:Action Name="Forward" NextStep="Receivables"></bp:Action>
    </bp:Step>

    <bp:Step Name="OrderInfo" Screen="Order_Info.xml">
      <bp:Action Name="EditPriceList" NextStep="PriceLists"></bp:Action>
    </bp:Step>

    <bp:Step Name="Receivables" Screen="Receivables.xml">
      <bp:Action Name="Forward" NextStep="Total"></bp:Action>
      <bp:Action Name="Select" NextStep="ReceivableDoc"></bp:Action>
    </bp:Step>

    <bp:Step Name="Total" Screen="Visit_Total.xml">
      <bp:Action Name="attributesFill" NextStep="ListChoice"></bp:Action>
    </bp:Step>

    <bp:Step Name="ListChoice" Screen="ListChoice.xml">
    </bp:Step>

    <bp:Step Name="AddSKU" Screen="Order_SKUs.xml">
      <bp:Action Name="SetFilter" NextStep="Filters"></bp:Action>
      <bp:Action Name="SelectSKU" NextStep="EditSKU"></bp:Action>
      <bp:Action Name="Forward" NextStep="Order"></bp:Action>
    </bp:Step>

    <bp:Step Name="Filters" Screen="Filters.xml">
      <bp:Action Name="Forward" NextStep="AddSKU"></bp:Action>
    </bp:Step>

    <bp:Step Name="EditSKU" Screen="Order_EditSKU.xml">
      <bp:Action Name="Forward" NextStep="AddSKU"></bp:Action>
    </bp:Step>

    <bp:Step Name="PriceLists" Screen="ListChoice.xml">
    </bp:Step>

    <bp:Step Name="EditOutletParameter" Screen="ListChoice.xml">
    </bp:Step>

    <bp:Step Name="EditOutletAddParameter" Screen="OutletParameter.xml">
    </bp:Step>

    <bp:Step Name="EditQuestion" Screen="ListChoice.xml">
    </bp:Step>

    <bp:Step Name="Visit_EditSKU" Screen="Visit_SKU.xml">
    </bp:Step>

    <bp:Step Name="ReceivableDoc" Screen="Encashment.xml">
    </bp:Step>

  </bp:Workflow>


  <bp:Workflow Name="Outlets">

    <bp:Step Name="Outlets" Screen="Outlets.xml">
      <bp:Action Name="Select" NextStep="Outlet"></bp:Action>
      <bp:Action Name="Create" NextStep="CreateOutlet"></bp:Action>
    </bp:Step>

    <bp:Step Name="Outlet" Screen="Outlet.xml">
      <bp:Action Name="EditParameter" NextStep="EditOutletParameter"></bp:Action>
      <bp:Action Name="EditAddParameter" NextStep="EditOutletAddParameter"></bp:Action>
      <bp:Action Name="ShowMap" NextStep="ShowMap"></bp:Action>
    </bp:Step>

    <bp:Step Name="CreateOutlet" Screen="Outlet.xml">
      <bp:Action Name="EditParameter" NextStep="EditOutletParameter"></bp:Action>
      <bp:Action Name="EditAddParameter" NextStep="EditOutletAddParameter"></bp:Action>
    </bp:Step>

    <bp:Step Name="EditOutletParameter" Screen="ListChoice.xml">
    </bp:Step>

    <bp:Step Name="EditOutletAddParameter" Screen="OutletParameter.xml">
    </bp:Step>

    <bp:Step Name="ShowMap" Screen="Outlet_Map.xml">
    </bp:Step>

  </bp:Workflow>


  <bp:Workflow Name="Order">

    <bp:Step Name="OrderList" Screen="OrderList.xml">
      <bp:Action Name="Forward" NextStep="Outlets"></bp:Action>
      <bp:Action Name="Select" NextStep="Order"></bp:Action>
    </bp:Step>

    <bp:Step Name="Outlets" Screen="Outlets.xml">
      <bp:Action Name="Select" NextStep="Order"></bp:Action>
    </bp:Step>

    <bp:Step Name="Order" Screen="Order.xml">
      <bp:Action Name="Add" NextStep="AddSKU"></bp:Action>
      <bp:Action Name="Edit" NextStep="EditSKU"></bp:Action>
      <bp:Action Name="ShowInfo" NextStep="OrderInfo"></bp:Action>
      <bp:Action Name="Forward" NextStep="Commentary"></bp:Action>
    </bp:Step>

    <bp:Step Name="AddSKU" Screen="Order_SKUs.xml">
      <bp:Action Name="SetFilter" NextStep="Filters"></bp:Action>
      <bp:Action Name="SelectSKU" NextStep="EditSKU"></bp:Action>
      <bp:Action Name="Forward" NextStep="Order"></bp:Action>
    </bp:Step>

    <bp:Step Name="Filters" Screen="Filters.xml">
      <bp:Action Name="Forward" NextStep="AddSKU"></bp:Action>
    </bp:Step>

    <bp:Step Name="EditSKU" Screen="Order_EditSKU.xml">
      <bp:Action Name="Forward" NextStep="AddSKU"></bp:Action>
    </bp:Step>

    <bp:Step Name="OrderInfo" Screen="Order_Info.xml">
      <bp:Action Name="EditPriceList" NextStep="PriceLists"></bp:Action>
    </bp:Step>

    <bp:Step Name="PriceLists" Screen="ListChoice.xml">
    </bp:Step>

    <bp:Step Name="Commentary" Screen="Order_Commentary.xml">
    </bp:Step>

  </bp:Workflow>

  <bp:Workflow Name="Targets">
    <bp:Step Name="Targets" Screen="Targets.xml">
    </bp:Step>
  </bp:Workflow>


  <bp:Workflow Name="Settings">

    <bp:Step Name="Settings" Screen="Settings.xml">
    </bp:Step>

  </bp:Workflow>

</bp:BusinessProcess>
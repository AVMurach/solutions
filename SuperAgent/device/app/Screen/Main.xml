<?xml version="1.0" encoding="utf-8" ?>
<c:Screen xmlns:c="BitMobile.Controls" xmlns:s="BitMobile.ValueStack" StyleSheet="Main.css">

  <c:SwipeHorizontalLayout Id="swipe_layout">
    <c:VerticalLayout CssClass="menu">

      <c:HorizontalLayout CssClass="header" OnEvent="Forward" OnClickAction="$CloseMenu()">
        <c:Image CssClass="btn_summary"/>
        <c:TextView CssClass="menu_text" Text="#summary#"/>
      </c:HorizontalLayout>

      <s:Push Id="scheduledVisits" Value="$GetScheduledVisitsCount()"/>
      <s:Push Id="unplannedScheduledVisits" Value="$GetOutletsQty()"/>

      <c:DockLayout OnClickAction="$DoAction(Visits)">
        <c:TextView CssClass="menu_text" Text="{$scheduledVisits} | {$unplannedScheduledVisits}"/>
        <c:HorizontalLayout>
          <c:Image CssClass="btn_visits"/>
          <c:TextView CssClass="menu_text" Text="#visits#"/>
        </c:HorizontalLayout>
      </c:DockLayout>
      <c:HorizontalLine/>

      <s:Push Id="outletsCount" Value="$GetOutletsCount()"/>
      
      <c:DockLayout OnClickAction="$DoAction(Outlets)">
        <c:TextView CssClass="menu_text" Text="$outletsCount"/>
        <c:HorizontalLayout>
          <c:Image CssClass="btn_clients"/>
          <c:TextView CssClass="menu_text" Text="#clients#"/>
        </c:HorizontalLayout>
      </c:DockLayout>
      <c:HorizontalLine/>

      <s:Push Id="orderSum" Value="$GetOrderSumm()"/>
      
      <c:DockLayout OnClickAction="$DoAction(Order)">
        <c:TextView CssClass="menu_text" Text="$orderSum"></c:TextView>
        <c:HorizontalLayout>
          <c:Image CssClass="btn_orders"/>
          <c:TextView Text="#orders#"></c:TextView>
        </c:HorizontalLayout>
      </c:DockLayout>
      <c:HorizontalLine/>

      <c:DockLayout OnClickAction="$DoAction(Sync)">
        <c:TextView Id="syncTitle" CssClass="menu_text"/>
        <c:HorizontalLayout>
          <c:Image CssClass="btn_sync"/>
          <c:TextView CssClass="menu_text" Text="#sync#"/>
        </c:HorizontalLayout>
      </c:DockLayout>
      <c:HorizontalLine/>

      <c:DockLayout>
        <c:TextView CssClass="menu_text" Text="ver. 2.1"/>
        <c:HorizontalLayout>
          <c:Image CssClass="btn_info"/>
          <c:TextView CssClass="menu_text" Text="#info#"/>
        </c:HorizontalLayout>
      </c:DockLayout>
      <c:HorizontalLine/>

    </c:VerticalLayout>
    <c:VerticalLayout>

      <c:DockLayout CssClass="top_navigator">
        <c:HorizontalLayout CssClass="btn_menu" OnClickAction="$Facade.OpenMenu()">
          <c:Image CssClass="menuIcon"/>
        </c:HorizontalLayout>
        <c:HorizontalLayout CssClass="btn_forward"/>
        <c:HorizontalLayout>
          <c:TextView Text="#summary#" />
        </c:HorizontalLayout>
      </c:DockLayout>
      <c:HorizontalLine CssClass="navy"/>

      <c:VerticalLayout CssClass="blue">

        <s:Push Id="commitedVisits" Value="$GetCommitedScheduledVisits()"/>
        
        <c:DockLayout>
          <c:VerticalLayout CssClass="left">
            <c:DockLayout CssClass="caption_big">
              <c:TextView Text="$commitedVisits"/>
              <c:TextView Text="#vpVisits#" CssClass="descr"/>
              <c:TextView Text="#vpPerformed#" CssClass="descr"/>
            </c:DockLayout>

            <c:VerticalLayout CssClass="simple">
              <c:HorizontalLayout>
                <c:TextView Text="#further#" CssClass="descr"/>
                <c:TextView Text="$scheduledVisits" CssClass="mark"/>
                <c:TextView Text="#vpVisits#"/>
              </c:HorizontalLayout>
              <c:TextView Text="#scheduled#" CssClass="descr"/>
            </c:VerticalLayout>
          </c:VerticalLayout>

          <c:VerticalLayout CssClass="right">
            <c:DockLayout CssClass="grid">
              <c:VerticalLayout>
                <c:TextView Text="$scheduledVisits" CssClass="main_row"></c:TextView>
                <c:TextView Text="#planned#" CssClass="description_row"/>
                <c:TextView Text="#vpVisits#" CssClass="description_row"/>
              </c:VerticalLayout>
            </c:DockLayout>
            <c:HorizontalLine/>
            <c:DockLayout CssClass="grid">
              <c:VerticalLayout>
                <c:TextView Text="$unplannedScheduledVisits" CssClass="main_row"></c:TextView>
                <c:TextView Text="#vpUnplanned#" CssClass="description_row"/>
                <c:TextView Text="#vpVisits#" CssClass="description_row"/>
              </c:VerticalLayout>
            </c:DockLayout>
          </c:VerticalLayout>

        </c:DockLayout>


        <c:DockLayout CssClass="short_panel">
          <c:DockLayout CssClass="grid">
            <c:VerticalLayout>
              <c:TextView Text="$orderSum" CssClass="main_row"></c:TextView>
              <c:TextView Text="#amountOfOrdersForToday#" CssClass="description_row"/>
            </c:VerticalLayout>
          </c:DockLayout>
        </c:DockLayout>

        <s:Push Id="encashmentSumm" Value="$GetEncashmentSumm()"/>
        <s:Push Id="receivablesSumm" Value="$GetReceivablesSumm()"/>

        <c:DockLayout>
          <c:DockLayout CssClass="grid">
            <c:VerticalLayout>
              <c:TextView Text="$encashmentSumm" CssClass="main_row"></c:TextView>
              <c:TextView Text="#programmingCollectionForToday#" CssClass="description_row"/>
            </c:VerticalLayout>
          </c:DockLayout>
          <c:HorizontalLine/>
          <c:DockLayout CssClass="grid">
            <c:VerticalLayout>
              <c:TextView Text="$receivablesSumm" CssClass="main_row"></c:TextView>
              <c:TextView Text="#accountsReceivables#" CssClass="description_row"/>
            </c:VerticalLayout>
          </c:DockLayout>
        </c:DockLayout>

      </c:VerticalLayout>

    </c:VerticalLayout>
  </c:SwipeHorizontalLayout>

</c:Screen>